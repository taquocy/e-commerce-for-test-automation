Bug Report: Không thể xóa công việc trong danh sách To-Do
1. Thông tin chung
Tiêu đề: Không thể xóa công việc trong danh sách To-Do

Mức độ nghiêm trọng (Severity): High

Mức độ ưu tiên (Priority): Medium

Môi trường:

Hệ điều hành: Windows 11 Home 64-bit

Trình duyệt: Microsoft Edge 123.0.0.0

Phiên bản ứng dụng: v1.2.3

Kết nối mạng: Ethernet

2. Mô tả lỗi
Người dùng không thể xóa công việc khỏi danh sách. Khi nhấn vào nút "Xóa" bên cạnh một công việc, không có phản hồi nào từ ứng dụng, và console hiển thị lỗi Uncaught TypeError: Cannot read properties of undefined (reading 'removeChild').

3. Bước để tái hiện lỗi
Truy cập vào ứng dụng tại: https://todo-app.example.com

Thêm một công việc bất kỳ vào danh sách.

Nhấn nút "Xóa" (biểu tượng thùng rác) bên cạnh công việc vừa thêm.

Quan sát hành vi ứng dụng và mở console trình duyệt (F12).

4. Kết quả mong đợi
Công việc bị xóa khỏi danh sách và không còn hiển thị.

5. Kết quả thực tế
Công việc vẫn nằm trong danh sách. Console hiển thị lỗi:
Uncaught TypeError: Cannot read properties of undefined (reading 'removeChild')

6. Ảnh chụp màn hình / Video

7. Ghi chú thêm
Lỗi chỉ xảy ra khi danh sách có từ hai công việc trở lên.

Có thể do sử dụng sai DOM element khi gọi removeChild().

Lỗi không xảy ra nếu reload trang sau khi thêm công việc.

8. Người báo cáo lỗi
Tên: Trần Minh Hòa

Email: hoa.tran@example.com

Ngày báo cáo: 18/03/2025

9. Mã nguồn có lỗi
// Xử lý sự kiện xóa công việc
taskList.addEventListener("click", function (e) {
    if (e.target.classList.contains("delete-btn")) {
        const taskItem = e.target.parentElement;
        taskList.removeChild(taskItem); // Có thể taskItem không nằm trực tiếp trong taskList
    }
});


10. Đề xuất hướng khắc phục
Kiểm tra kỹ DOM structure trước khi gọi removeChild.

Đảm bảo phần tử cha cần xóa thực sự là con trực tiếp của taskList.

Cập nhật đoạn mã như sau để đảm bảo tính an toàn:
if (taskItem && taskItem.parentElement === taskList) {
    taskList.removeChild(taskItem);
} else {
    console.error("Không thể xóa taskItem: phần tử cha không khớp hoặc không tồn tại.");
}